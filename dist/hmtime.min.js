Date.prototype.ago=function(){var t=((new Date).getTime()-this.getTime())/1e3,e=Math.floor(t/86400);return 0==e&&((t<60?"刚刚":t<120&&"1分钟以前")||t<3600&&Math.floor(t/60)+"分钟之前"||t<7200&&"1小时之前"||t<86400&&Math.floor(t/3600)+"小时之前")||1==e&&"昨天"||e<7&&Math.floor(e)+"天前"||e<30&&Math.floor(e/7)+"周前"||e<365&&Math.floor(e/30)+"个月前"||Math.floor(e/365)+"年之前"},Date.prototype.getSmallHours=function(){var t=this.getHours();return t<=12?t:t-12},Date.prototype.format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"H+":this.getHours(),"h+":this.getSmallHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"S+":this.getMilliseconds()};for(var o in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),e)new RegExp("("+o+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[o]:("00"+e[o]).substr(String(e[o]).length)));return t};